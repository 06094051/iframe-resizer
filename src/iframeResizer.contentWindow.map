{"version":3,"file":"js/iframeResizer.contentWindow.min.js","sources":["iframeResizer.contentWindow.js"],"names":["addEventListener","el","evt","func","window","attachEvent","formatLogMsg","msg","msgID","myID","log","logging","console","warn","init","readData","setMargin","setBodyStyle","bodyBackground","bodyPadding","injectClearFixIntoBodyElement","checkHeightMode","stopInfiniteResizingOfIFrame","setupPublicMethods","startEventListeners","sendSize","strBool","str","data","initMsg","substr","msgIdLen","split","bodyMargin","undefined","Number","calculateWidth","interval","publicMethods","autoResize","bodyMarginStr","heightCalcMode","tolerance","chkCSS","attr","value","indexOf","document","body","style","documentElement","height","initWindowResizeListener","initWindowClickListener","heightCalcModeDefault","getHeight","setupMutationObserver","clearFix","createElement","clear","display","appendChild","parentIFrame","close","getId","reset","resetIFrame","scrollTo","x","y","sendMsg","scrollToOffset","sendMessage","targetOrigin","setHeightCalculationMethod","heightCalculationMethod","setTargetOrigin","targetOriginDefault","size","customHeight","customWidth","valString","lockTrigger","initInterval","setInterval","Math","abs","setupInjectElementLoadListners","mutations","addLoadListener","element","width","src","forEach","mutation","type","attributeName","target","images","querySelectorAll","Array","prototype","call","image","createMutationObserver","querySelector","config","attributes","attributeOldValue","characterData","characterDataOldValue","childList","subtree","observer","MutationObserver","observe","WebKitMutationObserver","getBodyOffsetHeight","getComputedBodyStyle","prop","convertUnitsToPxForIE8","PIXEL","test","parseInt","base","left","runtimeStyle","currentStyle","pixelLeft","retVal","defaultView","getComputedStyle","offsetHeight","getBodyScrollHeight","scrollHeight","getDEOffsetHeight","getDEScrollHeight","getLowestElementHeight","allElements","allElementsLength","length","maxBottomVal","timer","Date","getTime","i","getBoundingClientRect","bottom","getAllHeights","getMaxHeight","max","apply","getMinHeight","min","getBestHeight","getWidth","scrollWidth","triggerEvent","triggerEventDesc","recordTrigger","resetPage","resizeIFrame","currentHeight","currentWidth","isDoubleFiredEvent","triggerLocked","doubleEventList","isSizeChangeDetected","checkTolarance","a","b","isForceResizableEvent","isForceResizableHeightCalcMode","resetRequiredMethods","logIgnored","checkDownSizing","clearTimeout","triggerLockedTimer","setTimeout","eventCancelTimer","triggerReset","hcm","sendToParent","message","postMessage","receiver","event","isMessageForUs","initFromParent","source","firstRun","initLock","resetFromParent","getMessageType","isMiddleTier","isInitMsg","true","false","resize","click","scroll","bodyScroll","documentElementScroll","parent","offset","bodyOffset","documentElementOffset","grow","lowestElement"],"mappings":"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"}